<div class="container-fluid">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">Product List</h2>
    <a routerLink="/add-product" class="btn btn-primary">
      <i class="fas fa-plus mr-2"></i>Add New Product
    </a>
  </div>

  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <p class="mt-2">Loading products...</p>
  </div>

  <div *ngIf="error" class="alert alert-danger" role="alert">
    <i class="fas fa-exclamation-triangle mr-2"></i>
    {{ error }}
  </div>

  <div *ngIf="!loading && !error" class="card">
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead class="table-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Price</th>
              <th scope="col">Category</th>
              <th scope="col">Image</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let product of products; trackBy: trackByProductId">
              <th scope="row">{{product.id}}</th>
              <td class="font-weight-bold">{{product.name}}</td>
              <td class="text-success font-weight-bold">${{product.price}}</td>
              <td>
                <span class="badge badge-secondary">{{product.marque}}</span>
              </td>
              <td>
                <img [src]="product.pictures[0]" class="rounded" height="50" width="50" alt="{{product.name}}" style="object-fit: cover;">
              </td>
              <td>
                <button [routerLink]="['/edit-product', product.id]" class="btn btn-warning btn-sm mr-2" title="Edit product">
                  <i class="fas fa-edit"></i> Edit
                </button>
                <button (click)="deleteProduct(product.id)" class="btn btn-danger btn-sm" title="Delete product">
                  <i class="fas fa-trash"></i> Delete
                </button>
              </td>
            </tr>
            <tr *ngIf="products.length === 0">
              <td colspan="6" class="text-center py-4">
                <i class="fas fa-box-open fa-3x text-muted mb-3"></i>
                <p class="text-muted">No products found. <a routerLink="/add-product">Add your first product</a></p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
